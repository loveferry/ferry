<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.org.ferry.sys.mapper.SysUserMapper">
	<resultMap id="BaseResultMap" type="cn.org.ferry.sys.dto.SysUser">
		<id column="user_id" property="userId" jdbcType="BIGINT" javaType="java.lang.Long"/>
		<result column="user_code" property="userCode" jdbcType="VARCHAR" javaType="java.lang.String"/>
		<result column="password" property="password" jdbcType="VARCHAR" javaType="java.lang.String"/>
		<result column="user_name_en" property="userNameEn" jdbcType="VARCHAR" javaType="java.lang.String"/>
		<result column="user_name_zh" property="userNameZh" jdbcType="VARCHAR" javaType="java.lang.String"/>
		<result column="user_sex" property="userSex" jdbcType="VARCHAR" javaType="cn.org.ferry.system.sysenum.Sex" typeHandler="cn.org.ferry.system.mybatis.handler.SexHandler"/>
		<result column="user_birthday" property="userBirthday" jdbcType="DATE" javaType="java.util.Date"/>
		<result column="user_email" property="userEmail" jdbcType="VARCHAR" javaType="java.lang.String"/>
		<result column="user_phone" property="userPhone" jdbcType="VARCHAR" javaType="java.lang.String"/>
		<result column="user_family_address" property="userFamilyAddress" jdbcType="VARCHAR" javaType="java.lang.String"/>
	</resultMap>
	
	<select id="queryByUserCode" parameterType="java.lang.String" resultMap="BaseResultMap">
        select user_id,user_name_en,user_name_zh,password,user_birthday,user_code,user_email,user_family_address,user_phone,user_sex from sys_user where user_code = #{userCode}
    </select>
	
	<select id="queryByUserNameZh" parameterType="java.lang.String" resultMap="BaseResultMap">
        select user_id,user_name_en,user_name_zh,password,user_birthday,user_code,user_email,user_family_address,user_phone,user_sex
        from sys_user
        where 1=1 and
        <if test="userNameZh != null and userNameZh != ''">
			user_name_zh = #{userNameZh}
		</if>
		<if test="userNameZh == null">
			1=2
		</if>
	</select>
</mapper>
