<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.org.ferry.sys.mapper.SysUserMapper">
	<resultMap id="BaseResultMap" type="cn.org.ferry.sys.dto.SysUser">
		<id column="user_id" property="userId" jdbcType="BIGINT" javaType="java.lang.Long"/>
		<result column="user_code" property="userCode" jdbcType="VARCHAR" javaType="java.lang.String"/>
		<result column="password" property="password" jdbcType="VARCHAR" javaType="java.lang.String"/>
		<result column="user_name" property="userName" jdbcType="VARCHAR" javaType="java.lang.String"/>
		<result column="description" property="description" jdbcType="VARCHAR" javaType="java.lang.String"/>
		<result column="user_sex" property="userSex" jdbcType="VARCHAR" javaType="cn.org.ferry.mybatis.enums.Sex"
				typeHandler="cn.org.ferry.mybatis.handlers.SexHandler"/>
		<result column="user_birthday" property="userBirthday" jdbcType="DATE" javaType="java.util.Date"/>
		<result column="user_email" property="userEmail" jdbcType="VARCHAR" javaType="java.lang.String"/>
		<result column="user_phone" property="userPhone" jdbcType="VARCHAR" javaType="java.lang.String"/>
		<result column="user_family_address" property="userFamilyAddress" jdbcType="VARCHAR" javaType="java.lang.String"/>
		<result column="enabled_flag" property="enabledFlag" jdbcType="VARCHAR" javaType="cn.org.ferry.mybatis.enums.IfOrNot"
				typeHandler="cn.org.ferry.mybatis.handlers.IfOrNotFlagHandler"/>
	</resultMap>
	
	<cache type="cn.org.ferry.mybatis.cache.RedisCache"/>
	
	<select id="queryByUserNameWithEnabled" parameterType="string" resultMap="BaseResultMap">
        select t.*
        from sys_user t
        where t.USER_NAME = #{userName} and t.ENABLED_FLAG = 'Y'
    </select>
	
	
</mapper>
